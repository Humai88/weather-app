{"version":3,"sources":["api/api.ts","config.js","UI/Input.tsx","assets/images/circles.svg","App.tsx","index.tsx"],"names":["api","weatherAPI","query","axios","get","Input","type","onChange","onChangeText","onKeyPress","onEnter","restProps","error","className","spanClassName","e","currentTarget","value","key","App","useState","setQuery","weather","setWeather","setError","date","moment","format","main","temp","placeholder","then","res","data","catch","err","onClick","name","sys","country","Math","round","src","icon","loader","alt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+PAGMA,EACK,2CAEEC,EAAa,SAACC,GACzB,OAAOC,IAAMC,IAAN,UACFJ,EADE,qBACsBE,EADtB,+BCNC,sC,uCCoDKG,EAjCyB,SAAC,GAUnC,EATJC,KASK,IARLC,EAQI,EARJA,SACAC,EAOI,EAPJA,aACAC,EAMI,EANJA,WACAC,EAKI,EALJA,QAIGC,GACC,EAJJC,MAII,EAHJC,UAGI,EAFJC,cAEI,8GAUJ,OACE,mCACE,mCACER,KAAM,OACNC,SAbmB,SAACQ,GACxBR,GAAYA,EAASQ,GACrBP,GAAgBA,EAAaO,EAAEC,cAAcC,QAYzCR,WAVqB,SAACM,GAC1BN,GAAcA,EAAWM,GACzBL,GAAqB,UAAVK,EAAEG,KAAmBR,KAS5BG,UAAU,gBACNF,OC/CG,MAA0B,oCC6F1BQ,MAtFf,WAAgB,IAAD,EACaC,mBAAS,IADtB,mBACNlB,EADM,KACCmB,EADD,OAEiBD,mBAAc,IAF/B,mBAENE,EAFM,KAEGC,EAFH,OAGaH,mBAAS,IAHtB,mBAGNR,EAHM,KAGCY,EAHD,KA+BPC,EAAOC,MAASC,OAAO,uBAE7B,OACE,qBACEd,UAC0B,qBAAjBS,EAAQM,MACXN,EAAQM,KAAKC,KAAO,GAClB,mBAEF,cANR,SASE,iCACE,sBAAKhB,UAAU,aAAf,UACE,cAAC,EAAD,CACEP,KAAK,OACLO,UAAU,eACViB,YAAY,YACZvB,SAAU,SAACQ,GAAD,OAAOM,EAASN,EAAEC,cAAcC,QAC1CA,MAAOf,EACPO,WA9CK,SAACM,GACA,UAAVA,EAAEG,KACJjB,EAAWC,GACR6B,MAAK,SAACC,GACLT,EAAWS,EAAIC,MACfZ,EAAS,IACTG,EAAS,OAEVU,OAAM,SAACC,GACNX,EAAS,6CACTH,EAAS,UAsCT,wBAAQe,QAlCM,WACpBnC,EAAWC,GACR6B,MAAK,SAACC,GACLT,EAAWS,EAAIC,MACfZ,EAAS,IACTG,EAAS,OAEVU,OAAM,SAACC,GACNX,EAAS,6CACTH,EAAS,QAyBP,uBAEDT,GAAS,qBAAKC,UAAU,QAAf,SAAwBD,IACT,qBAAjBU,EAAQM,KACd,qCACE,sBAAKf,UAAU,eAAf,UACE,sBAAKA,UAAU,WAAf,UACGS,EAAQe,KADX,KACmBf,EAAQgB,IAAIC,WAE/B,qBAAK1B,UAAU,OAAf,SAAuBY,OAEzB,sBAAKZ,UAAU,cAAf,UACE,sBAAKA,UAAU,OAAf,UAAuB2B,KAAKC,MAAMnB,EAAQM,KAAKC,MAA/C,WACA,qBAAKhB,UAAU,UAAf,SAA0BS,EAAQA,QAAQ,GAAGM,OAC7C,qBACEf,UAAU,OACV6B,IAAG,2CAAsCpB,EAAQA,QAAQ,GAAGqB,KAAzD,mBAKT,gCACE,qBAAK9B,UAAU,gBAAf,sDAGA,qBAAKA,UAAU,SAAS6B,IAAKE,EAAQC,IAAI,cChFrDC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.a58f5e46.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { config } from \"./../config\";\r\nlet key = config.MY_KEY;\r\nconst api = {\r\n  baseURL: \"https://api.openweathermap.org/data/2.5/\",\r\n};\r\nexport const weatherAPI = (query: string) => {\r\n  return axios.get<WeatherResponseType>(\r\n    `${api.baseURL}weather?q=${query}&units=metric&appid=${key}`\r\n  );\r\n};\r\n\r\n// Types\r\nexport type WeatherResponseType = {\r\n  coord: CoordType;\r\n  weather: WeatherType[];\r\n  base: number;\r\n  main: MainType;\r\n  visibility: number;\r\n  wind: WindType;\r\n  clouds: CloudsType;\r\n  dt: number;\r\n  sys: SysType;\r\n  timezone: number;\r\n  id: number;\r\n  name: string;\r\n  cod: number;\r\n};\r\n\r\ntype CoordType = {\r\n  lon: number;\r\n  lat: number;\r\n};\r\ntype WeatherType = {\r\n  id: number;\r\n  main: string;\r\n  description: string;\r\n  icon: string;\r\n};\r\ntype MainType = {\r\n  temp: number;\r\n  feels_like: number;\r\n  temp_min: number;\r\n  temp_max: number;\r\n  pressure: number;\r\n  humidity: number;\r\n  sea_level: number;\r\n  grnd_level: number;\r\n};\r\ntype WindType = {\r\n  speed: number;\r\n  deg: number;\r\n  gust: number;\r\n};\r\ntype CloudsType = {\r\n  all: number;\r\n};\r\ntype SysType = {\r\n  type: number;\r\n  id: number;\r\n  country: string;\r\n  sunrise: number;\r\n  sunset: number;\r\n};\r\n","export let config = {\r\n  MY_KEY: \"afe1289e31494c8586cf58e9e25eed17\",\r\n};\r\n","import React, {\n  ChangeEvent,\n  DetailedHTMLProps,\n  InputHTMLAttributes,\n  KeyboardEvent,\n} from \"react\";\nimport \"./Input.css\";\n\ntype DefaultInputPropsType = DetailedHTMLProps<\n  InputHTMLAttributes<HTMLInputElement>,\n  HTMLInputElement\n>;\n\ntype InputPropsType = DefaultInputPropsType & {\n  onChangeText?: (value: string) => void;\n  onEnter?: () => void;\n  error?: string;\n  spanClassName?: string;\n};\n\nconst Input: React.FC<InputPropsType> = ({\n  type,\n  onChange,\n  onChangeText,\n  onKeyPress,\n  onEnter,\n  error,\n  className,\n  spanClassName,\n  ...restProps\n}) => {\n  const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\n    onChange && onChange(e);\n    onChangeText && onChangeText(e.currentTarget.value);\n  };\n  const onKeyPressCallback = (e: KeyboardEvent<HTMLInputElement>) => {\n    onKeyPress && onKeyPress(e);\n    onEnter && e.key === \"Enter\" && onEnter();\n  };\n\n  return (\n    <>\n      <input\n        type={\"text\"}\n        onChange={onChangeCallback}\n        onKeyPress={onKeyPressCallback}\n        className=\"search-input\"\n        {...restProps}\n      />\n    </>\n  );\n};\n\nexport default Input;\n","export default __webpack_public_path__ + \"static/media/circles.ff85086e.svg\";","import moment from \"moment\";\nimport React, { KeyboardEvent, useState } from \"react\";\nimport { weatherAPI } from \"./api/api\";\nimport \"./App.css\";\nimport Input from \"./UI/Input\";\nimport loader from \"./assets/images/circles.svg\";\n\nfunction App() {\n  const [query, setQuery] = useState(\"\");\n  const [weather, setWeather] = useState<any>({});\n  const [error, setError] = useState(\"\");\n\n  const search = (e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\") {\n      weatherAPI(query)\n        .then((res) => {\n          setWeather(res.data);\n          setQuery(\"\");\n          setError(\"\");\n        })\n        .catch((err) => {\n          setError(\"There is no such city. Please, try again.\");\n          setQuery(\"\");\n        });\n    }\n  };\n  const searchHandler = () => {\n    weatherAPI(query)\n      .then((res) => {\n        setWeather(res.data);\n        setQuery(\"\");\n        setError(\"\");\n      })\n      .catch((err) => {\n        setError(\"There is no such city. Please, try again.\");\n        setQuery(\"\");\n      });\n  };\n  const date = moment().format(\"dddd, MMMM Do, YYYY\");\n\n  return (\n    <div\n      className={\n        typeof weather.main !== \"undefined\"\n          ? weather.main.temp > 15\n            ? \"app-wrapper warm\"\n            : \"app-wrapper\"\n          : \"app-wrapper\"\n      }\n    >\n      <main>\n        <div className=\"search-box\">\n          <Input\n            type=\"text\"\n            className=\"search-input\"\n            placeholder=\"Search...\"\n            onChange={(e) => setQuery(e.currentTarget.value)}\n            value={query}\n            onKeyPress={search}\n          />\n          <button onClick={searchHandler}>search</button>\n        </div>\n        {error && <div className=\"error\">{error}</div>}\n        {typeof weather.main !== \"undefined\" ? (\n          <>\n            <div className=\"location-box\">\n              <div className=\"location\">\n                {weather.name}, {weather.sys.country}\n              </div>\n              <div className=\"date\">{date}</div>\n            </div>\n            <div className=\"weather-box\">\n              <div className=\"temp\">{Math.round(weather.main.temp)}Â°C</div>\n              <div className=\"weather\">{weather.weather[0].main}</div>\n              <img\n                className=\"icon\"\n                src={`http://openweathermap.org/img/wn/${weather.weather[0].icon}@2x.png`}\n              ></img>\n            </div>\n          </>\n        ) : (\n          <div>\n            <div className=\"start-message\">\n              Enter city name and get current weather.\n            </div>\n            <img className=\"loader\" src={loader} alt=\"\" />\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}