(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{14:function(e,a,t){e.exports={img:"Preloader_img__2DZQp",backdrop:"Preloader_backdrop__1frCy"}},30:function(e,a,t){},5:function(e,a,t){e.exports={weatherBox:"WeatherBox_weatherBox__1QAcd",icon:"WeatherBox_icon__tgcVV",temp:"WeatherBox_temp__3DAQh"}},55:function(e,a,t){},56:function(e,a,t){},58:function(e,a,t){"use strict";t.r(a);var c=t(1),n=t(6),r=t.n(n),s=(t(30),t(4)),i=t(7),o=t(23),d=t(3),l=function(e){return{type:"SET-STATUS",payload:{status:e}}},j=function(e){return{type:"CATCH_ERROR",payload:{error:e}}},m=t(13),u=t.n(m),h="afe1289e31494c8586cf58e9e25eed17",p="https://api.openweathermap.org/data/2.5/",b=function(e){return u.a.get("".concat(p,"weather?q=").concat(e,"&units=metric&appid=").concat(h))},O=function(e){return u.a.get("".concat(p,"forecast?q=").concat(e,"&units=metric&appid=").concat(h))},x={status:"idle",error:"",weather:null,forecast:null},f=Object(i.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CATCH_ERROR":return Object(d.a)(Object(d.a)({},e),{},{error:a.payload.error});case"SET-STATUS":return Object(d.a)(Object(d.a)({},e),{},{status:a.payload.status});case"GET_CURRENT_WEATHER":return Object(d.a)(Object(d.a)({},e),{},{weather:{name:a.payload.weather.name,sys:{country:a.payload.weather.sys.country},main:{temp:a.payload.weather.main.temp,temp_min:a.payload.weather.main.temp_min,temp_max:a.payload.weather.main.temp_max,humidity:a.payload.weather.main.humidity},weather:a.payload.weather.weather.map((function(e){return Object(d.a)({},e)})),wind:{speed:a.payload.weather.wind.speed}}});case"GET_FORECAST":return Object(d.a)(Object(d.a)({},e),{},{forecast:a.payload.forecast.map((function(e){return Object(d.a)({},e)}))});default:return e}}),Object(i.a)(o.a)),y=t(8),g=t(24),w=t.n(g),v=(t(55),t(25)),N=(t(56),t(0)),_=function(e){e.type;var a=e.onChange,t=e.onChangeText,c=e.onKeyPress,n=e.onEnter,r=(e.error,e.className,e.spanClassName,Object(v.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]));return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("input",Object(d.a)({type:"text",onChange:function(e){a&&a(e),t&&t(e.currentTarget.value)},onKeyPress:function(e){c&&c(e),n&&"Enter"===e.key&&n()},className:"search-input"},r))})},T=t.p+"static/media/Half-Moon-Loading.0771d9af.svg",C=t(5),E=t.n(C),k=function(e){var a=e.time,t=e.icon,c=e.temp;return Object(N.jsxs)("div",{className:E.a.weatherBox,children:[Object(N.jsx)("div",{className:E.a.time,children:a}),Object(N.jsx)("img",{className:E.a.icon,src:"http://openweathermap.org/img/wn/".concat(t,"@2x.png")}),Object(N.jsxs)("div",{className:E.a.temp,children:[Math.round(c),"\xb0C"]})]})},R=function(e){var a=e.split(" "),t=a[0].split("-").slice(1);switch(t[0]){case"01":t[0]="Jan";break;case"02":t[0]="Feb";break;case"03":t[0]="Mar";break;case"04":t[0]="Apr";break;case"05":t[0]="May";break;case"06":t[0]="June";break;case"07":t[0]="July";break;case"08":t[0]="Aug";break;case"09":t[0]="Sept";break;case"10":t[0]="Oct";break;case"11":t[0]="Nov";break;case"12":t[0]="Dec"}var c=t.join(", "),n=a[1].split(":").slice(0,-1).join(":");return"".concat(c," ").concat(n)},S=t.p+"static/media/Lazy-Loader.f22415b3.svg",A=t(14),M=t.n(A),B=function(){return Object(N.jsxs)(c.Fragment,{children:[Object(N.jsx)("div",{className:M.a.backdrop,children:Object(N.jsx)("img",{className:M.a.img,src:S,alt:"loading"})}),","]})};var F=function(){var e=Object(s.c)((function(e){return e.weather})),a=Object(s.c)((function(e){return e.forecast})),t=Object(s.c)((function(e){return e.error})),n=Object(s.c)((function(e){return e.status})),r=Object(s.b)(),i=Object(c.useState)(""),o=Object(y.a)(i,2),d=o[0],m=o[1],u=Object(c.useState)(""),h=Object(y.a)(u,2),p=h[0],x=h[1],f=Object(c.useState)(!0),g=Object(y.a)(f,2),v=g[0],C=g[1],E=function(){d.length>0?(r(function(e){return function(a){a(l("loading")),b(e).then((function(e){a({type:"GET_CURRENT_WEATHER",payload:{weather:e.data}})})).catch((function(e){a(j(e.response.data.message))})).finally((function(){a(l("succeeded"))}))}}(d)),r(function(e){return function(a){a(l("loading")),O(e).then((function(e){a({type:"GET_FORECAST",payload:{forecast:e.data.list}})})).catch((function(e){a(j(e.response.data.message))})).finally((function(){a(l("succeeded"))}))}}(d)),C(!0),setTimeout((function(){r(j(""))}),3e3)):(C(!1),x("Please, enter the city name."))},S=w()().format("dddd, MMMM Do");return Object(N.jsxs)("div",{className:"app-wrapper",children:["loading"===n&&Object(N.jsx)(B,{}),Object(N.jsxs)("main",{children:[Object(N.jsxs)("div",{className:"search-box",children:[Object(N.jsx)(_,{type:"text",className:"search-input",placeholder:"Search...",onChange:function(e){m(e.currentTarget.value)},value:d,onKeyPress:function(e){"Enter"===e.key&&E()}}),Object(N.jsx)("button",{onClick:function(){E()},children:"search"})]}),Object(N.jsx)("div",{className:"validation",style:v?{display:"none"}:{display:"block"},children:p}),t&&Object(N.jsx)("div",{className:"error",children:t}),e?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"location-box",children:[Object(N.jsxs)("div",{className:"location",children:[e.name,", ",e.sys.country]}),Object(N.jsx)("div",{className:"date",children:S})]}),Object(N.jsxs)("div",{className:"main-wrapper",children:[Object(N.jsxs)("div",{className:"weather-main",children:[Object(N.jsx)("img",{className:"icon-main",src:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png")}),Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"temp-main",children:[Math.round(e.main.temp),"\xb0C"]}),Object(N.jsx)("div",{className:"weather-main",children:e.weather[0].main})]})]}),Object(N.jsxs)("div",{className:"descr-main",children:[Object(N.jsxs)("div",{children:[Math.round(e.wind.speed),"m/s",Object(N.jsx)("br",{}),"Wind"]}),Object(N.jsxs)("div",{children:[e.main.humidity,"%",Object(N.jsx)("br",{}),"Humidity"]}),Object(N.jsxs)("div",{children:[Math.round(e.main.temp_max),"\xb0C",Object(N.jsx)("br",{}),"High"]}),Object(N.jsxs)("div",{children:[Math.round(e.main.temp_min),"\xb0C",Object(N.jsx)("br",{}),"Low"]})]})]}),Object(N.jsx)("div",{className:"date",children:"Forecast"}),Object(N.jsx)("div",{className:"data-wrapper",children:a&&a.map((function(e){return Object(N.jsx)(k,{time:R(e.dt_txt),icon:e.weather[0].icon,temp:e.main.temp},e.dt)}))})]}):Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"start-message",children:"Enter city name and get current weather and 5 day weather forecast"}),Object(N.jsx)("img",{className:"loader",src:T,alt:""})]})]})]})};r.a.render(Object(N.jsx)(s.a,{store:f,children:Object(N.jsx)(F,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.f4d8f969.chunk.js.map