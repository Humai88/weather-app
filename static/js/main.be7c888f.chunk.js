(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{14:function(e,t,a){e.exports={img:"Preloader_img__2DZQp",backdrop:"Preloader_backdrop__1frCy"}},30:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},5:function(e,t,a){e.exports={weatherBox:"WeatherBox_weatherBox__1QAcd",icon:"WeatherBox_icon__tgcVV",temp:"WeatherBox_temp__3DAQh"}},58:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(6),r=a.n(c),s=(a(30),a(8)),i=a(23),o=a.n(i),d=(a(32),a(3)),l=a(25),u=(a(33),a(1)),j=function(e){e.type;var t=e.onChange,a=e.onChangeText,n=e.onKeyPress,c=e.onEnter,r=(e.error,e.className,e.spanClassName,Object(l.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]));return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("input",Object(d.a)({type:"text",onChange:function(e){t&&t(e),a&&a(e.currentTarget.value)},onKeyPress:function(e){n&&n(e),c&&"Enter"===e.key&&c()},className:"search-input"},r))})},m=a(5),h=a.n(m),b=function(e){var t=e.time,a=e.icon,n=e.temp;return Object(u.jsxs)("div",{className:h.a.weatherBox,children:[Object(u.jsx)("div",{className:h.a.time,children:t}),Object(u.jsx)("img",{className:h.a.icon,src:"http://openweathermap.org/img/wn/".concat(a,"@2x.png")}),Object(u.jsxs)("div",{className:h.a.temp,children:[Math.round(n),"\xb0C"]})]})},p=function(e){var t=e.split(" "),a=t[0].split("-").slice(1);switch(a[0]){case"01":a[0]="Jan";break;case"02":a[0]="Feb";break;case"03":a[0]="Mar";break;case"04":a[0]="Apr";break;case"05":a[0]="May";break;case"06":a[0]="June";break;case"07":a[0]="July";break;case"08":a[0]="Aug";break;case"09":a[0]="Sept";break;case"10":a[0]="Oct";break;case"11":a[0]="Nov";break;case"12":a[0]="Dec"}var n=a.join(", "),c=t[1].split(":").slice(0,-1).join(":");return"".concat(n," ").concat(c)},O=a(4),x=function(e){return{type:"SET-STATUS",payload:{status:e}}},f=function(e){return{type:"CATCH_ERROR",payload:{error:e}}},y=a(13),g=a.n(y),v="afe1289e31494c8586cf58e9e25eed17",w="https://api.openweathermap.org/data/2.5/",N=function(e,t,a){return g.a.get("".concat(w,"weather?q=").concat(e,"&lat=").concat(t,"&lon=").concat(a,"&units=metric&appid=").concat(v))},_=function(e,t,a){return g.a.get("".concat(w,"forecast?q=").concat(e,"&lat=").concat(t,"&lon=").concat(a,"&units=metric&appid=").concat(v))},T={status:"idle",error:"",weather:null,forecast:null},C=function(e,t,a){return function(n){n(x("loading")),N(e,t,a).then((function(e){n({type:"GET_CURRENT_WEATHER",payload:{weather:e.data}})})).catch((function(e){n(f(e.response.data.message))})).finally((function(){n(x("succeeded"))}))}},E=function(e,t,a){return function(n){n(x("loading")),_(e,t,a).then((function(e){n({type:"GET_FORECAST",payload:{forecast:e.data.list}})})).catch((function(e){n(f(e.response.data.message))})).finally((function(){n(x("succeeded"))}))}},k=a.p+"static/media/Lazy-Loader.f22415b3.svg",R=a(14),S=a.n(R),A=function(){return Object(u.jsx)(n.Fragment,{children:Object(u.jsx)("div",{className:S.a.backdrop,children:Object(u.jsx)("img",{className:S.a.img,src:k,alt:"loading"})})})};var M=function(){var e=Object(O.c)((function(e){return e.weather})),t=Object(O.c)((function(e){return e.forecast})),a=Object(O.c)((function(e){return e.error})),c=Object(O.c)((function(e){return e.status})),r=Object(O.b)(),i=Object(n.useState)(""),d=Object(s.a)(i,2),l=d[0],m=d[1],h=Object(n.useState)(""),x=Object(s.a)(h,2),y=x[0],g=x[1],v=Object(n.useState)(!0),w=Object(s.a)(v,2),N=w[0],_=w[1],T=Object(n.useRef)(null);Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude;r(C("",t,a)),r(E("",t,a)),console.log(t,a)}),(function(){T.current&&(T.current.innerHTML="Please, enter the city name to get current weather and 5-day weather forecast.")}))}),[]);var k=function(){l.length>0?(r(C(l,null,null)),r(E(l,null,null)),_(!0),setTimeout((function(){r(f(""))}),3e3)):(_(!1),g("Please, enter the city name."))},R=o()().format("dddd, MMMM Do");return Object(u.jsx)("div",{className:"app-wrapper",children:"loading"===c?Object(u.jsx)(A,{}):Object(u.jsxs)("main",{children:[Object(u.jsxs)("div",{className:"search-box",children:[Object(u.jsx)(j,{type:"text",className:"search-input",placeholder:"Search...",onChange:function(e){m(e.currentTarget.value)},value:l,onKeyPress:function(e){"Enter"===e.key&&k()}}),Object(u.jsx)("button",{onClick:function(){k()},children:"search"})]}),Object(u.jsx)("div",{className:"validation",style:N?{display:"none"}:{display:"block"},children:y}),a&&Object(u.jsx)("div",{className:"error",children:a}),e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"location-box",children:[Object(u.jsxs)("div",{className:"location",children:[e.name,", ",e.sys.country]}),Object(u.jsx)("div",{className:"date",children:R})]}),Object(u.jsxs)("div",{className:"main-wrapper",children:[Object(u.jsxs)("div",{className:"weather-main",children:[Object(u.jsx)("img",{className:"icon-main",src:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png")}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"temp-main",children:[Math.round(e.main.temp),"\xb0C"]}),Object(u.jsx)("div",{className:"weather-main",children:e.weather[0].main})]})]}),Object(u.jsxs)("div",{className:"descr-main",children:[Object(u.jsxs)("div",{children:[Math.round(e.wind.speed),"m/s",Object(u.jsx)("br",{}),"Wind"]}),Object(u.jsxs)("div",{children:[e.main.humidity,"%",Object(u.jsx)("br",{}),"Humidity"]}),Object(u.jsxs)("div",{children:[Math.round(e.main.temp_max),"\xb0C",Object(u.jsx)("br",{}),"High"]}),Object(u.jsxs)("div",{children:[Math.round(e.main.temp_min),"\xb0C",Object(u.jsx)("br",{}),"Low"]})]})]}),Object(u.jsx)("div",{className:"date",children:"Forecast"}),Object(u.jsx)("div",{className:"data-wrapper",children:t&&t.map((function(e){return Object(u.jsx)(b,{time:p(e.dt_txt),icon:e.weather[0].icon,temp:e.main.temp},e.dt)}))})]}):Object(u.jsx)("div",{children:Object(u.jsx)("div",{ref:T,className:"start-message"})})]})})},P=a(7),B=a(24),F=Object(P.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CATCH_ERROR":return Object(d.a)(Object(d.a)({},e),{},{error:t.payload.error});case"SET-STATUS":return Object(d.a)(Object(d.a)({},e),{},{status:t.payload.status});case"GET_CURRENT_WEATHER":return Object(d.a)(Object(d.a)({},e),{},{weather:{name:t.payload.weather.name,sys:{country:t.payload.weather.sys.country},main:{temp:t.payload.weather.main.temp,temp_min:t.payload.weather.main.temp_min,temp_max:t.payload.weather.main.temp_max,humidity:t.payload.weather.main.humidity},weather:t.payload.weather.weather.map((function(e){return Object(d.a)({},e)})),wind:{speed:t.payload.weather.wind.speed}}});case"GET_FORECAST":return Object(d.a)(Object(d.a)({},e),{},{forecast:t.payload.forecast.map((function(e){return Object(d.a)({},e)}))});default:return e}}),Object(P.a)(B.a));r.a.render(Object(u.jsx)(O.a,{store:F,children:Object(u.jsx)(M,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.be7c888f.chunk.js.map