(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{14:function(e,t,a){e.exports={img:"Preloader_img__2DZQp",backdrop:"Preloader_backdrop__1frCy"}},15:function(e,t,a){e.exports={img:"Spinner_img__3-P_i",backdrop:"Spinner_backdrop__1VdV2"}},31:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},5:function(e,t,a){e.exports={weatherBox:"WeatherBox_weatherBox__1QAcd",icon:"WeatherBox_icon__tgcVV",temp:"WeatherBox_temp__3DAQh"}},59:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(7),r=a.n(c),s=(a(31),a(6)),i=a(24),o=a.n(i),l=(a(33),a(3)),d=a(26),u=(a(34),a(1)),j=function(e){e.type;var t=e.onChange,a=e.onChangeText,n=e.onKeyPress,c=e.onEnter,r=(e.error,e.className,e.spanClassName,Object(d.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]));return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("input",Object(l.a)({type:"text",onChange:function(e){t&&t(e),a&&a(e.currentTarget.value)},onKeyPress:function(e){n&&n(e),c&&"Enter"===e.key&&c()},className:"search-input"},r))})},m=a(5),b=a.n(m),p=function(e){var t=e.time,a=e.icon,n=e.temp;return Object(u.jsxs)("div",{className:b.a.weatherBox,children:[Object(u.jsx)("div",{className:b.a.time,children:t}),Object(u.jsx)("img",{className:b.a.icon,src:"http://openweathermap.org/img/wn/".concat(a,"@2x.png")}),Object(u.jsxs)("div",{className:b.a.temp,children:[Math.round(n),"\xb0C"]})]})},h=function(e){var t=e.split(" "),a=t[0].split("-").slice(1);switch(a[0]){case"01":a[0]="Jan";break;case"02":a[0]="Feb";break;case"03":a[0]="Mar";break;case"04":a[0]="Apr";break;case"05":a[0]="May";break;case"06":a[0]="June";break;case"07":a[0]="July";break;case"08":a[0]="Aug";break;case"09":a[0]="Sept";break;case"10":a[0]="Oct";break;case"11":a[0]="Nov";break;case"12":a[0]="Dec"}var n=a.join(", "),c=t[1].split(":").slice(0,-1).join(":");return"".concat(n," ").concat(c)},O=a(4),f=function(e){return{type:"SET-STATUS",payload:{status:e}}},x=function(e){return{type:"CATCH_ERROR",payload:{error:e}}},g=a(13),y=a.n(g),v="afe1289e31494c8586cf58e9e25eed17",w="https://api.openweathermap.org/data/2.5/",_=function(e,t,a){return y.a.get("".concat(w,"weather?q=").concat(e,"&lat=").concat(t,"&lon=").concat(a,"&units=metric&appid=").concat(v))},N=function(e,t,a){return y.a.get("".concat(w,"forecast?q=").concat(e,"&lat=").concat(t,"&lon=").concat(a,"&units=metric&appid=").concat(v))},T={status:"idle",error:"",weather:null,forecast:null},C=function(e,t,a){return function(n){n(f("loading")),_(e,t,a).then((function(e){n({type:"GET_CURRENT_WEATHER",payload:{weather:e.data}})})).catch((function(e){n(x(e.response.data.message))})).finally((function(){n(f("succeeded"))}))}},k=function(e,t,a){return function(n){n(f("loading")),N(e,t,a).then((function(e){n({type:"GET_FORECAST",payload:{forecast:e.data.list}})})).catch((function(e){n(x(e.response.data.message))})).finally((function(){n(f("succeeded"))}))}},E=a.p+"static/media/Lazy-Loader.f22415b3.svg",S=a(14),M=a.n(S),R=function(){return Object(u.jsx)(n.Fragment,{children:Object(u.jsx)("div",{className:M.a.backdrop,children:Object(u.jsx)("img",{className:M.a.img,src:E,alt:"loading"})})})},A=a.p+"static/media/Half-Moon-Loading.fb56b74c.svg",P=a(15),H=a.n(P),F=function(){return Object(u.jsx)(n.Fragment,{children:Object(u.jsx)("div",{className:H.a.backdrop,children:Object(u.jsx)("img",{className:H.a.img,src:A,alt:"loading"})})})};var L=function(){var e=Object(O.c)((function(e){return e.weather})),t=Object(O.c)((function(e){return e.forecast})),a=Object(O.c)((function(e){return e.error})),c=Object(O.c)((function(e){return e.status})),r=Object(O.b)(),i=Object(n.useState)(""),l=Object(s.a)(i,2),d=l[0],m=l[1],b=Object(n.useState)(""),f=Object(s.a)(b,2),g=f[0],y=f[1],v=Object(n.useState)(!0),w=Object(s.a)(v,2),_=w[0],N=w[1],T=Object(n.useState)(!0),E=Object(s.a)(T,2),S=E[0],M=E[1],A=Object(n.useRef)(null);Object(n.useEffect)((function(){setTimeout((function(){return M(!1)}),1500)}),[]),Object(n.useEffect)((function(){if(navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude;r(C("",t,a)),r(k("",t,a)),console.log(t,a)})),navigator.geolocation){if(!A.current)return;A.current.innerHTML="Locating\u2026",navigator.geolocation.getCurrentPosition((function(){A.current&&(A.current.innerHTML="Unable to retrieve your location. Please, enter the city name.")}))}else{if(!A.current)return;A.current.innerHTML="Geolocation is not supported by your browser. Please, enter the city name."}}),[]);var P=function(){d.length>0?(r(C(d,null,null)),r(k(d,null,null)),N(!0),setTimeout((function(){r(x(""))}),3e3)):(N(!1),y("Please, enter the city name."))},H=o()().format("dddd, MMMM Do");return S?Object(u.jsx)(F,{}):Object(u.jsxs)("div",{className:"app-wrapper",children:["loading"===c&&Object(u.jsx)(R,{}),Object(u.jsxs)("main",{children:[Object(u.jsxs)("div",{className:"search-box",children:[Object(u.jsx)(j,{type:"text",className:"search-input",placeholder:"Search...",onChange:function(e){m(e.currentTarget.value)},value:d,onKeyPress:function(e){"Enter"===e.key&&P()}}),Object(u.jsx)("button",{onClick:function(){P()},children:"search"})]}),Object(u.jsx)("div",{className:"validation",style:_?{display:"none"}:{display:"block"},children:g}),a&&Object(u.jsx)("div",{className:"error",children:a}),e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"location-box",children:[Object(u.jsxs)("div",{className:"location",children:[e.name,", ",e.sys.country]}),Object(u.jsx)("div",{className:"date",children:H})]}),Object(u.jsxs)("div",{className:"main-wrapper",children:[Object(u.jsxs)("div",{className:"weather-main",children:[Object(u.jsx)("img",{className:"icon-main",src:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png")}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"temp-main",children:[Math.round(e.main.temp),"\xb0C"]}),Object(u.jsx)("div",{className:"weather-main",children:e.weather[0].main})]})]}),Object(u.jsxs)("div",{className:"descr-main",children:[Object(u.jsxs)("div",{children:[Math.round(e.wind.speed),"m/s",Object(u.jsx)("br",{}),"Wind"]}),Object(u.jsxs)("div",{children:[e.main.humidity,"%",Object(u.jsx)("br",{}),"Humidity"]}),Object(u.jsxs)("div",{children:[Math.round(e.main.temp_max),"\xb0C",Object(u.jsx)("br",{}),"High"]}),Object(u.jsxs)("div",{children:[Math.round(e.main.temp_min),"\xb0C",Object(u.jsx)("br",{}),"Low"]})]})]}),Object(u.jsx)("div",{className:"date",children:"Forecast"}),Object(u.jsx)("div",{className:"data-wrapper",children:t&&t.map((function(e){return Object(u.jsx)(p,{time:h(e.dt_txt),icon:e.weather[0].icon,temp:e.main.temp},e.dt)}))})]}):Object(u.jsx)("div",{children:Object(u.jsx)("div",{ref:A,className:"start-message"})})]})]})},B=a(8),W=a(25),G=Object(B.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CATCH_ERROR":return Object(l.a)(Object(l.a)({},e),{},{error:t.payload.error});case"SET-STATUS":return Object(l.a)(Object(l.a)({},e),{},{status:t.payload.status});case"GET_CURRENT_WEATHER":return Object(l.a)(Object(l.a)({},e),{},{weather:{name:t.payload.weather.name,sys:{country:t.payload.weather.sys.country},main:{temp:t.payload.weather.main.temp,temp_min:t.payload.weather.main.temp_min,temp_max:t.payload.weather.main.temp_max,humidity:t.payload.weather.main.humidity},weather:t.payload.weather.weather.map((function(e){return Object(l.a)({},e)})),wind:{speed:t.payload.weather.wind.speed}}});case"GET_FORECAST":return Object(l.a)(Object(l.a)({},e),{},{forecast:t.payload.forecast.map((function(e){return Object(l.a)({},e)}))});default:return e}}),Object(B.a)(W.a));r.a.render(Object(u.jsx)(O.a,{store:G,children:Object(u.jsx)(L,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.6f67c28e.chunk.js.map